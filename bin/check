#!/usr/bin/env bash
# Copyright (C) 2016 Google Inc., authors, and contributors <see AUTHORS file>
# Licensed under http://www.apache.org/licenses/LICENSE-2.0 <see LICENSE file>
# Created By: miha@reciprocitylabs.com
# Maintained By: miha@reciprocitylabs.com

set -o nounset
set -o errexit

SCRIPTPATH=$( cd "$(dirname "$0")" ; pwd -P )

cd "${SCRIPTPATH}/../"

function py_files() {
  git status --porcelain -uno | cut -c4- | grep ".py$"
}

if [[ $(py_files) ]]; then
  py_files | xargs pylint
else
  echo "No python files changed."
fi
